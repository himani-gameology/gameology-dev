!function(t){"use strict";theme.ProductPage=function(){function e(e){this.$container=t(e),this.namespace=".product-page",this.onLoad()}return e.prototype=t.extend({},e.prototype,{onLoad:function(){var e,n=this,o=this.$container.find("[data-js-product]"),c=o.find("[data-js-product-gallery]"),i=o.find("[data-js-product-countdown] .js-countdown"),d=o.find(".js-text-countdown"),a=o.find(".js-visitors"),h=o.find(".template-dynamic-checkout");c.length&&(this.$gallery=c,this.$gallery.productGallery()),h.length&&(this.checkCheckoutLoad=function(t){t[0].getBoundingClientRect().top<window.innerHeight+300&&($window.unbind("scroll.checkCheckoutLoad"),window.Shopify&&Shopify.PaymentButton&&Shopify.PaymentButton.init())},this.dynamicCheckoutUpdate=function(t,e){var n=e.find("[data-js-dynamic-checkout-button-wrapper]");n[t.is(":checked")?"removeClass":"addClass"]("disabled")},h.replaceWith(t(h[0].content).find("[data-js-product-button-dynamic-checkout]")),h.remove(),e=o.find(".js-dynamic-checkout"),e.on("change","[data-js-dynamic-checkout-confirmation]",function(){n.dynamicCheckoutUpdate(t(this),e)}),e.find("[data-js-dynamic-checkout-confirmation]").each(function(){n.dynamicCheckoutUpdate(t(this),e)}),this.checkCheckoutLoad(e),$window.on("scroll.checkCheckoutLoad",function(){n.checkCheckoutLoad(e)})),theme.is_loaded&&(i.length&&theme.ProductCountdown.init(i),d.length&&theme.ProductTextCountdown.init(d),a.length&&theme.ProductVisitors.init(a),theme.StoreLists.checkProductStatus(o),theme.Tabs&&theme.Tabs.init())},onUnload:function(){this.$container.off(this.namespace),this.$gallery&&(this.$gallery.productGallery("destroy"),this.$gallery=null),$window.unbind("scroll.checkCheckoutLoad")}}),e}(),t(function(){theme.sections.register("product-page",theme.ProductPage)})}(jQueryTheme);