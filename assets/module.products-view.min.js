theme.ProductsView=function(){function t(){this.selectors={view:".js-products-view"},this.init()}t.prototype=$.extend({},t.prototype,{init:function(){var t=this,a=localStorage.getItem("products-view");if(window.location.href.indexOf("products-view=reset")!==-1&&(a=null,localStorage.setItem("products-view",null)),a){var e=$(this.selectors.view+" [data-js-products-grid-buttons]");a=JSON.parse(a),e.each(function(){var e=$(this),s=!0;$.each(a,function(t,a){if(e.attr("data-value-"+t)!==a){var r="data-active-"+t;e.attr("data-value-"+t,a),e.find("[data-value]").removeAttr(r),e.find('[data-value="'+a+'"]').attr(r,!0),s=!1}}),s||t.update(e)})}$body.on("click",this.selectors.view+" [data-js-products-grid-buttons] [data-value]",function(){var a=$(this),e=a.parents("[data-js-products-grid-buttons]"),s=a.attr("data-value"),r=theme.current.bp,i="data-active-"+r;if(!a[0].hasAttribute(i)){var o={};e.find("[data-value]").removeAttr(i),a.attr(i,!0),e.attr("data-value-"+r,s),t.update(e),$.each(theme.breakpoints.values,function(t,a){o[t]=e.attr("data-value-"+t)}),localStorage.setItem("products-view",JSON.stringify(o))}})},update:function(t){var a=t.parents(this.selectors.view).find("[data-js-products]"),e=$("[data-js-products-grid-buttons]"),s="";e.length&&($.each(theme.breakpoints.values,function(t){var r=e.attr("data-value-"+t),i="list"===r?12:12/+r;a[1===+r?"addClass":"removeClass"]("products-view-centered-"+t),a["list"===r?"addClass":"removeClass"]("products-view-list-"+t),s+=" col-","xs"!==t&&(s+=t+"-"),s+=i}),a.find("[data-js-product]").parent().attr("class",s),$window.trigger("checkImages"))}}),theme.ProductsView=new t},$(function(){theme.ProductsView()});