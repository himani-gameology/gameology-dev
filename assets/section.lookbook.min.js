!function(o){"use strict";theme.LookBook=function(){function e(e){this.$container=o(e),this.namespace=".lookbook",this.onLoad()}return e.prototype=o.extend({},Section.prototype,e.prototype,{onLoad:function(){function e(e){var t=e.parents("[data-lookbook-picker]").find("[data-lookbook-picker-button]"),a=o(".header__content--sticky"),s=a.length?a:n;t[0].getBoundingClientRect().top-e.innerHeight()-10>s[0].getBoundingClientRect().bottom?e.addClass("bottom-0").removeClass("top-0"):e.removeClass("bottom-0").addClass("top-0")}var t=this.$container.find(".lookbook__item"),n=o(".header");theme.Global.responsiveHandler({namespace:".lookbook",element:t,delegate:"[data-lookbook-picker-button]",on_desktop:!0,events:{click:function(){var t=o(this),n=t.parents("[data-lookbook-picker]").find("[data-lookbook-product]");t[t.hasClass("open")?"removeClass":"addClass"]("open"),n[t.hasClass("open")?"removeClass":"addClass"]("d-none"),t.hasClass("open")&&e(n)}}}),theme.Global.responsiveHandler({namespace:".lookbook",element:t,delegate:"[data-lookbook-picker]",on_desktop:!0,events:{"mouseenter mouseleave":function(t){var n=o(this),a=n.find("[data-lookbook-product-button]"),s=n.find("[data-lookbook-product]");a.hasClass("open")||(s["mouseenter"===t.type?"removeClass":"addClass"]("d-none"),"mouseenter"===t.type&&e(s))}}}),theme.Global.responsiveHandler({namespace:".lookbook",element:t,delegate:"[data-lookbook-product-close]",on_desktop:!0,events:{click:function(){o(this).parents("[data-lookbook-picker]").find("[data-lookbook-picker-button]").addClass("open").trigger("click")}}}),t.length&&theme.is_loaded&&theme.ImagesLazyLoad.update()},onUnload:function(){this.$container.off(this.namespace),this.$container.trigger("section.unload"),this.$container.find(".lookbook__item").unbind()}}),e}(),o(function(){theme.sections.register("lookbook",theme.LookBook)})}(jQueryTheme);