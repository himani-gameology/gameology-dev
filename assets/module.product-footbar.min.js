!function(t){"use strict";theme.ProductFootbar=function(){function e(){this.settings={height:0},this.load()}e.prototype=t.extend({},e.prototype,{duration:function(){return 1e3*theme.animations.footbar_product.duration},load:function(){var e=this,o=t(".js-footbar-product"),i=t(".js-footer"),s=t("[data-js-footbar-product-limit]"),n=t("#___ratingbadge_0");o.length&&s.length&&(this.$footbar=o,$window.on("load theme.resize.productFootbar scroll.productFootbar",function(){e._checkVisible(o,s,i,n)}))},_checkVisible:function(t,e,o,i){var s=e[0].getBoundingClientRect(),n=theme.StickyHeader&&theme.StickyHeader.$sticky?theme.StickyHeader.$sticky.stickyHeader("getStickyHeight")+600:0,r=t.innerHeight();s.top<n&&!t.hasClass("show")?(window.matchMedia("(max-width: 1500px)").matches&&(i.css("bottom","90px"),i.css("z-index","2")),t.addClass("show animate"),t.velocity("stop",!0),t.velocity("slideDown",{duration:this.duration(),begin:function(){setTimeout(function(){t.addClass("visible")},0)},complete:function(){t.removeAttr("style")}}),this.settings.height=t.children().first().innerHeight()):s.top>=n&&t.hasClass("visible")&&(t.velocity("stop",!0),t.velocity("slideUp",{duration:this.duration(),begin:function(){t.removeClass("visible")},complete:function(){t.removeClass("show animate").removeAttr("style"),i.css("bottom","0px")}}),this.settings.height=0);r>0&&(theme.current.is_mobile?(o.css({paddingBottom:""}),o.parent().css({paddingBottom:r})):(o.css({paddingBottom:r}),o.parent().css({paddingBottom:""})))},getFootbarHeight:function(){return this.settings.height},destroy:function(){$window.unbind("theme.resize.productFootbar scroll.productFootbar")}}),theme.ProductFootbar=new e},t(function(){theme.ProductFootbar()})}(jQueryTheme);